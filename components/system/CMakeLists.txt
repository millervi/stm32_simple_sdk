include(${CMAKE_SOURCE_DIR}/component.cmake)

set(PLACE_COMPONENT ${CMAKE_CURRENT_SOURCE_DIR})

component_registration(
    SOURCE_FILES
        ${PLACE_COMPONENT}/mcu/cmsis/stm32f4xx/sources/system_stm32f4xx.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_dma.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_exti.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_gpio.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_rcc.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_usart.c
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/sources/stm32f4xx_ll_utils.c
        ${PLACE_COMPONENT}/mcu/core/sources/syscalls.c
        ${PLACE_COMPONENT}/mcu/core/sources/sysmem.c
        ${PLACE_COMPONENT}/mcu/core/startup/startup_stm32f411retx.s
        ${PLACE_COMPONENT}/mcu/core/system_clock/sources/system_clock.c
        ${PLACE_COMPONENT}/mcu/core/system_interrupts/sources/system_interrupts.c
        ${PLACE_COMPONENT}/mcu/periphery/usart_log/sources/usart_log.c
        ${PLACE_COMPONENT}/hal/hal_usart_log/sources/hal_usart_log.c
        ${PLACE_COMPONENT}/bsp/sources/bsp.c
    INCLUDE_DIRECTORIES
        ${PLACE_COMPONENT}/mcu/cmsis/arm
        ${PLACE_COMPONENT}/mcu/cmsis/stm32f4xx/include
        ${PLACE_COMPONENT}/mcu/stm32f4xx_ll/include
        ${PLACE_COMPONENT}/mcu/core/system_interrupts/include
        ${PLACE_COMPONENT}/mcu/core/system_clock/include
        ${PLACE_COMPONENT}/mcu/periphery/usart_log/include
        ${PLACE_COMPONENT}/hal/hal_usart_log/include
        ${PLACE_COMPONENT}/bsp/include
    DEFINITIONS
        STM32F411xE
        DEBUG 
        STM32F411xE 
        USE_FULL_LL_DRIVER 
        HSE_VALUE=8000000 
        HSE_STARTUP_TIMEOUT=100 
        LSE_STARTUP_TIMEOUT=5000 
        LSE_VALUE=32768 
        EXTERNAL_CLOCK_VALUE=12288000 
        HSI_VALUE=16000000 
        LSI_VALUE=32000 
        VDD_VALUE=3300 
        PREFETCH_ENABLE=1 
        INSTRUCTION_CACHE_ENABLE=1 
        DATA_CACHE_ENABLE=1
)
